[supervisord]
nodaemon=true
user=root
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid

[program:auth-service]
command=python -m uvicorn services.auth-service.app.main:app --host 0.0.0.0 --port 8001
directory=/app
autostart=true
autorestart=true
stderr_logfile=/var/log/supervisor/auth-service.err.log
stdout_logfile=/var/log/supervisor/auth-service.out.log
user=root

[program:chat-service]
command=python -m uvicorn services.chat-service.app.main:app --host 0.0.0.0 --port 8002
directory=/app
autostart=true
autorestart=true
stderr_logfile=/var/log/supervisor/chat-service.err.log
stdout_logfile=/var/log/supervisor/chat-service.out.log
user=root

[program:api-gateway]
command=python -m uvicorn services.api-gateway.app.main:app --host 0.0.0.0 --port 8000
directory=/app
autostart=true
autorestart=true
stderr_logfile=/var/log/supervisor/api-gateway.err.log
stdout_logfile=/var/log/supervisor/api-gateway.out.log
user=root

[program:web-server]
command=python web-server.py
directory=/app
autostart=true
autorestart=true
stderr_logfile=/var/log/supervisor/web-server.err.log
stdout_logfile=/var/log/supervisor/web-server.out.log
user=root